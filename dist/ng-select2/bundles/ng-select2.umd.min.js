!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-select2",["exports","@angular/core","@angular/forms","@angular/common"],t):t((e=e||self)["ng-select2"]={},e.ng.core,e.ng.forms,e.ng.common)}(this,function(e,t,n,r){"use strict";function i(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l}function o(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var l=function(){function e(e,n,r){this.renderer=e,this.zone=n,this._element=r,this.placeholder="",this.dropdownParent="",this.allowClear=!1,this.disabled=!1,this.valueChanged=new t.EventEmitter,this.element=undefined,this.check=!1,this.propagateChange=function(e){}}var r;return r=e,e.prototype.ngDoCheck=function(){this.element},e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){if(this.element){if(e.data&&JSON.stringify(e.data.previousValue)!==JSON.stringify(e.data.currentValue)){this.initPlugin();var t=this.currentValue?this.currentValue:this.value;this.setElementValue(t),this.propagateChange(t)}if(e.value&&e.value.previousValue!==e.value.currentValue){t=this.sanitizeNull(e.value.currentValue);this.setElementValue(t),this.valueChanged.emit({value:t,data:this.element.select2("data")}),this.propagateChange(t)}e.disabled&&e.disabled.previousValue!==e.disabled.currentValue&&this.renderer.setProperty(this.selector.nativeElement,"disabled",this.disabled),e.placeholder&&e.placeholder.previousValue!==e.placeholder.currentValue&&this.element.data("select2").$container.find(".select2-selection__placeholder").text(this.placeholder),e.dropdownParent&&e.dropdownParent.previousValue!==e.dropdownParent.currentValue&&this.renderer.setAttribute(this.selector.nativeElement,"data-dropdownParent",this.dropdownParent),e.allowClear&&e.allowClear.previousValue!==e.allowClear.currentValue&&this.renderer.setAttribute(this.selector.nativeElement,"data-allow-clear",this.allowClear.toString())}},e.prototype.ngAfterViewInit=function(){var e=this;this.element=jQuery(this.selector.nativeElement),this.renderer.setAttribute(this.selector.nativeElement,"data-dropdownParent",this.dropdownParent),this.renderer.setAttribute(this.selector.nativeElement,"data-allow-clear",this.allowClear.toString()),this.initPlugin(),"undefined"!=typeof this.value&&this.setElementValue(this.value),this.element.on("select2:select select2:unselect",function(t){t.params.originalEvent.stopPropagation();var n=e.sanitizeNull(e.element.val());e.valueChanged.emit({value:n,data:e.element.select2("data")}),e.propagateChange(n),e.setElementValue(n)})},e.prototype.ngOnDestroy=function(){this.element.off("select2:select")},e.prototype.initPlugin=function(){var e=this;if(this.element.select2){!0===this.element.hasClass("select2-hidden-accessible")&&(this.currentValue=this.getCurrentValue(),this.element.select2("destroy"),this.renderer.setProperty(this.selector.nativeElement,"innerHTML",""));var t={data:this.data,width:this.width?this.width:"resolve",placeholder:this.placeholder};this.dropdownParent&&(t={data:this.data,width:this.width?this.width:"resolve",dropdownParent:jQuery("#"+this.dropdownParent)}),Object.assign(t,this.options),t.matcher?jQuery.fn.select2.amd.require(["select2/compat/matcher"],function(n){t.matcher=n(t.matcher),e.element.select2(t),"undefined"!=typeof e.value&&e.setElementValue(e.value)}):this.element.select2(t),this.renderer.setProperty(this.selector.nativeElement,"disabled",this.disabled)}else this.check||(this.check=!0,console.log("Please add Select2 library (js file) to the project.You can download it from https://github.com/select2/select2/tree/master/dist/js."))},e.prototype.getCurrentValue=function(){var e=this.element[0].options.selectedIndex;return-1!==e?this.element[0].options[e].value:null},e.prototype.sanitizeNull=function(e){return"null"===e?null:e},e.prototype.setElementValue=function(e){var t,n;if(Array.isArray(e))try{for(var r=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(this.selector.nativeElement.options),i=r.next();!i.done;i=r.next()){var o=i.value;this.renderer.setProperty(o,"selected",e.indexOf(o.value)>-1)}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(t)throw t.error}}else this.renderer.setProperty(this.selector.nativeElement,"value",e);this.element&&this.element.trigger("change.select2")},e.prototype.writeValue=function(e){e!==undefined&&(this.value=e,this.setElementValue(e))},e.prototype.registerOnChange=function(e){this.propagateChange=e,this.valueChanged.subscribe(e)},e.prototype.registerOnTouched=function(){},i([t.ViewChild("selector",{"static":!0}),o("design:type",t.ElementRef)],e.prototype,"selector",void 0),i([t.Input(),o("design:type",Array)],e.prototype,"data",void 0),i([t.Input(),o("design:type",Object)],e.prototype,"placeholder",void 0),i([t.Input(),o("design:type",Object)],e.prototype,"dropdownParent",void 0),i([t.Input(),o("design:type",Object)],e.prototype,"allowClear",void 0),i([t.Input(),o("design:type",Object)],e.prototype,"value",void 0),i([t.Input(),o("design:type",String)],e.prototype,"width",void 0),i([t.Input(),o("design:type",Object)],e.prototype,"disabled",void 0),i([t.Input(),o("design:type",Object)],e.prototype,"options",void 0),i([t.Output(),o("design:type",Object)],e.prototype,"valueChanged",void 0),e=r=i([t.Component({selector:"ng-select2",template:'<select #selector>\r\n  <ng-content select="option, optgroup">\r\n  </ng-content>\r\n</select>\r\n',encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return r}),multi:!0}]}),o("design:paramtypes",[t.Renderer2,t.NgZone,t.ElementRef])],e)}(),a=function(){function e(){}return e=i([t.NgModule({imports:[r.CommonModule],declarations:[l],exports:[l]})],e)}();e.NgSelect2Component=l,e.NgSelect2Module=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-select2.umd.min.js.map